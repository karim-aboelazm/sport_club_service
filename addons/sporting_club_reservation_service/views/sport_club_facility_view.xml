<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="sport_club_facility_view_form" model="ir.ui.view">
            <field name="name">sport_club_facility_view_form</field>
            <field name="model">sport.club.facility</field>
            <field name="arch" type="xml">
                <form>
                    <field name="sport_ids" invisible="True"/>
                    <sheet>
                        <widget name="web_ribbon"
                                title="Archived"
                                bg_color="text-bg-danger"
                                invisible="active"/>

                        <div class="oe_title">
                            <label for="name"/>
                            <h1>
                                <field name="name" readonly="True"/>
                            </h1>
                        </div>

                        <group name="main_group">
                            <group name="left_group" string="Facility For">
                                <field name="sport_club_id"/>
                                <field name="sport_id" domain="[('id','in',sport_ids)]"/>
                                <label for="capacity" string="Capacity"/>
                                <div class="oe_row">
                                    <field name="capacity" class="oe_inline"/>
                                    <strong class="mx-3">Person<span invisible="capacity == 1">s</span></strong>
                                </div>
                            </group>
                            <group name="right_group" string="Facility Details">
                                <field name="facility_type" widget="radio" options="{'horizontal': True}"/>
                                <field name="surface_type" widget="radio" options="{'horizontal': True}"/>
                                <field name="indoor" widget="boolean_toggle"/>
                                <field name="lighting" widget="boolean_toggle"/>
                            </group>
                        </group>
                    </sheet>

                    <chatter/>
                </form>
            </field>
        </record>

        <record id="sport_club_facility_view_list" model="ir.ui.view">
            <field name="name">sport_club_facility_view_form</field>
            <field name="model">sport.club.facility</field>
            <field name="arch" type="xml">
                <list sample="1">
                    <field name="name"/>
                    <field name="facility_type"/>
                    <field name="capacity"/>
                    <field name="sport_club_id"/>
                    <field name="sport_id"/>
                    <field name="indoor" optional="hide"/>
                    <field name="lighting" optional="hide"/>
                    <field name="surface_type" optional="hide"/>
                </list>
            </field>
        </record>

        <record id="sport_club_facility_view_kanban" model="ir.ui.view">
            <field name="name">sport.club.facility.kanban</field>
            <field name="model">sport.club.facility</field>
            <field name="arch" type="xml">
                <kanban highlight_color="color"
                        default_group_by="sport_club_id"
                        class="o_kanban_small_column py-2"
                        quick_create="False"
                        records_draggable="False"
                        archivable="False">

                    <field name="name"/>
                    <field name="facility_type"/>
                    <field name="capacity"/>
                    <field name="sport_club_id"/>
                    <field name="sport_id"/>
                    <field name="indoor"/>
                    <field name="lighting"/>
                    <field name="surface_type"/>
                    <field name="color"/>

                    <templates>

                        <!-- Action Menu -->
                        <t t-name="menu">

                            <t t-if="widget.editable">
                                <a role="menuitem" type="open" class="dropdown-item">
                                    Edit
                                </a>
                            </t>

                            <t t-if="widget.deletable">
                                <a role="menuitem" type="delete" class="dropdown-item">
                                    Delete
                                </a>
                            </t>

                            <field name="color" widget="kanban_color_picker"/>

                        </t>

                        <!-- Card Body -->
                        <t t-name="card">

                            <div class="oe_kanban_global_click o_kanban_card">

                                <!-- Facility Name -->
                                <field class="fw-bold fs-5 text-primary"
                                       name="name"/>

                                <hr/>

                                <!-- Facility Info -->
                                <div class="mt-2">

                                    <div>
                                        <strong class="text-muted">Type: </strong>
                                        <field name="facility_type"/>
                                    </div>

                                    <div>
                                        <strong class="text-muted">Capacity: </strong>
                                        <field name="capacity"/>
                                        <strong class="text-muted" invisible="capacity > 1"> Person</strong>
                                        <strong class="text-muted" invisible="capacity==1"> Persons</strong>
                                    </div>

                                    <div>
                                        <strong class="text-muted">Surface: </strong>
                                        <field name="surface_type"/>
                                    </div>

                                    <div>
                                        <strong class="text-muted">Indoor: </strong>
                                        <t t-if="record.indoor.raw_value">
                                            ‚úÖ
                                        </t>
                                        <t t-else="">
                                            ‚ùå
                                        </t>
                                    </div>

                                    <div>
                                        <strong class="text-muted">Lighting: </strong>
                                        <t t-if="record.lighting.raw_value">
                                            üí°
                                        </t>
                                        <t t-else="">
                                            ‚ùå
                                        </t>
                                    </div>

                                </div>

                                <hr/>

                                <!-- Bottom Section -->
                                <div class="d-flex justify-content-between align-items-center">

                                    <div class="d-flex align-items-center">
                                        <i class="fa fa-building text-primary me-1" title="club"/>
                                        <field name="sport_club_id"
                                               class="fw-semibold text-primary"/>
                                    </div>

                                </div>

                            </div>
                        </t>

                    </templates>
                </kanban>
            </field>
        </record>

        <record id="sport_club_facility_view_graph" model="ir.ui.view">
            <field name="name">sport.club.facility.graph</field>
            <field name="model">sport.club.facility</field>
            <field name="arch" type="xml">
                <graph string="Facilities Analysis" type="bar">
                    <field name="capacity" type="measure"/>
                    <field name="facility_type" type="row"/>
                    <field name="sport_club_id" type="col"/>
                </graph>
            </field>
        </record>

        <record id="sport_club_facility_view_search" model="ir.ui.view">
            <field name="name">sport.club.facility.search</field>
            <field name="model">sport.club.facility</field>
            <field name="arch" type="xml">
                <search string="Search Facilities">

                    <!-- Standard search -->
                    <field name="name" string="Facility"/>
                    <field name="facility_type"/>
                    <field name="sport_club_id"/>
                    <field name="sport_id"/>
                    <field name="surface_type"/>

                    <!-- Filters -->
                    <filter string="Indoor" name="indoor" domain="[('indoor','=',True)]"/>
                    <filter string="With Lighting" name="lighting" domain="[('lighting','=',True)]"/>
                    <filter string="Active" name="active" domain="[('active','=',True)]"/>
                    <filter string="Inactive" name="inactive" domain="[('active','=',False)]"/>

                    <!-- Group By options -->
                    <group expand="0" string="Group By">
                        <filter string="Club" name="group_by_club" context="{'group_by':'sport_club_id'}"/>
                        <filter string="Facility Type" name="group_by_type" context="{'group_by':'facility_type'}"/>
                        <filter string="Surface" name="group_by_surface" context="{'group_by':'surface_type'}"/>
                        <filter string="Sport" name="group_by_sport" context="{'group_by':'sport_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <record id="sport_club_facility_action" model="ir.actions.act_window">
            <field name="name">Sport Club Facility</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">sport.club.facility</field>
            <field name="view_mode">kanban,list,graph,form</field>
        </record>


    </data>
</odoo>